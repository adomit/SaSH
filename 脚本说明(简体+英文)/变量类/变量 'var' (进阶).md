# 用法3:

根据特殊关键字获取特定数据赋值给变量

 **注意变量名称是大小写敏感的** 


```
var A, player, hp           //取人物当前写量
var A, pet, 1, water        //取第1个宠物水属性数值
var A, magic, 3, name       //取第3个精灵名称
var A, skill, 2, valid      //取第2个职业技能是否有效的标誌
var A, petskill, 5, 1, memo //取第5隻宠物第一个技能的技能说明
var A, item, 13, name       //取第13格道具名称
var A, item, space          //取背包空格数量
var A, item, count, ?豆子   //取背包 ?豆子 总数量
var A, equip, 1, name       //取第1格装备名称(头)
var A, petequip, 1, 1, name //取第1个宠物第1个装备名称(头)
var A, map, floor           //取地图编号
var A, chat, 5              //取下至上第5行聊天内容
var A, dialog, 7            //取上至下第7行对话框内容
var A, point, rep           //取人物声望

```


- 参数1:全局变量名称、或已存在的局变量名称

#### 人物数据:
- 参数2: player

| 关键字(参数3) | 说明 |
| --- | --- |
| dir | 方向(0-7) 0:北 -> 7:西北 |
| hp | 耐久力 |
| maxhp | 最大耐久力 |
| hpp | 耐久力百分比(0-100) |
| mp | 气力 |
| maxmp | 最大气力 |
| mpp | 气力百分比(0-100) |
| vit | 体力 |
| str | 腕力 |
| tgh | 耐力 |
| dex | 速度 |
| exp | 经验值 |
| maxexp | 最大经验值 |
| lv | 等级 |
| atk | 攻击力 |
| def | 防御力 |
| agi | 敏捷 |
| chasma | 魅力 |
| luck | 幸运 |
| earth | 地 |
| water | 水 |
| fire | 火 |
| wind | 风 |
| stone | 石币 |
| dp | dp点 |
| name | 名字(主名) |
| fname | 暱称(副名) |
| battlepet | 战宠索引(0-4) |
| mailpet | 邮寄宠物编号(0-4) |
| turn | 转生次数(0-6) |
| familyname | 家族名字 |
| ridename | 骑乘宠物名字 |
| ridelv | 骑乘宠物等级(1-255) |

#### 精灵数据:

- 参数2:magic
- 参数3:精灵索引1-9


| 关键字(参数4) | 说明 |
|---|---|
| valid | 是否合法(1:合法 0:不合法) |
| cost | 消耗 (精灵消耗的气力) |
| name | 名字 |
| memo | 备注 |

#### 职业技能数据:
参数2:skill
参数3:职业技能索引1-26

| 关键字(参数4) | 说明 |
|---|---|
| valid | 是否有效(1:有效 0:不有效) |
| cost | 消耗 (技能消耗的气力) |
| name | 名字 |
| memo | 备注 |

#### 宠物数据:

- 参数2:pet
- 参数3:宠物索引1-5


| 关键字(参数4) | 说明 |
|---|---|
| index | 位置 |
| hp | 血量 |
| maxhp | 最大血量 |
| hpp | 血量百分比 |
| mp | 魔力 |
| maxmp | 最大魔力 |
| mpp | 魔力百分比 |
| exp | 经验值 |
| maxexp | 最大经验值 |
| lv | 等级 |
| atk | 攻击力 |
| def | 防御力 |
| agi | 速度 |
| earth | 地属性 |
| water | 水属性 |
| fire | 火属性 |
| wind | 风属性 |
| maxskill | 最大技能 |
| turn | 宠物转生数 |
| name | 名字(主名) |
| fname | 暱称(副名) |
| valid | 是否存在(1:存在 0:不存在) |

#### 宠物数据2:

- 参数2:pet

| 关键字(参数3) | 说明    |
|----------|-------|
| count    | 宠物总数量 |


#### 宠物技能数据:

- 参数2:petskill
- 参数3:宠物索引1-5
- 参数4:技能索引1-7


| 关键字(参数5) | 说明 |
|---|---|
| valid | 是否有效(1:有效 0:不有效) |
| name | 名字 |
| memo | 备注 |

#### 道具数据:

- 参数2:item
- 参数3:道具索引1-15

| 关键字(参数4) | 说明 |
|---|---|
| lv | 等级 |
| stack | 堆迭数 |
| valid | 是否有效(1:有效 0:不有效) |
| name | 名字 |
| name2 | 名字2 |
| memo | 备注 |
| dura | 耐久度 |

#### 道具数据2:
- 参数2:item

| 关键字(参数3)  |  说明 | 参数4  | 说明  |
|---|---|---|---|
| space  |  空格总数 | 无  |   无 |
|  count | 某道具总数量  |  道具名称 | 可包含问号  |
| 道具名称或包含"?" | 根据名称查找指定道具所在位置(1-15)，装备为101-109 | 参数4(选填):说明文 |


#### 装备数据:

- 参数2:equip
- 参数3:道具索引1-9


| 关键字(参数4) | 说明 |
|---|---|
| lv | 等级 |
| valid | 是否有效(1:有效 0:不有效) |
| name | 名字 |
| name2 | 名字2 |
| memo | 备注 |
| dura | 耐久度 |

#### 宠物装备数据:

- 参数2:petequip
- 参数3:宠物索引1-5
- 参数4:道具索引1-7


| 关键字(参数5) | 说明 |
|---|---|
| lv | 等级 |
| valid | 是否有效(1:有效 0:不有效) |
| name | 名字 |
| name2 | 名字2 |
| memo | 备注 |
| dura | 耐久度 |

#### 隊伍数据:

- 参数2:party
- 参数3:队长[1] 队员[2-5]

| 关键字(参数4) | 说明 |
|---|---|
| valid | 是否有效(1:有效 0:不有效) |
| name | 名字 |
| lv | 等级 |
| hp | 血量 |
| maxhp |最大血量|
| hpp | 血量百分比 |
| mp |气力|

#### 地图数据:
- 参数2:map

| 关键字(参数3) | 说明 |
|---|---|
| floor | 地图编号 |
| name | 地图名称 |
| x | 东坐标 |
| y | 南坐标 |
| time | 0:中午 1:下午 2:晚上 3:早上 |

#### 聊天数据:

- 参数2:chat
- 参数3:由下至上行号索引1-20


#### 对话框数据:

- 参数2:dialog
- 参数3:由上至下行号索引1-10 如果为-1则获取一个不分行的完整对话框所有内容


#### 货币数据:
- 参数2:point

| 类型 | 关键字(参数3) | 说明 |
|---|---|---|
|整数型| exp | 经验加倍剩馀时间(秒) |
|整数型| rep | 声望 |
|整数型| ene | 气势 |
|整数型| shl | 贝壳 |
|整数型| vit | 活力 |
|整数型| pts | 积分 |
|整数型| vip | 会员点 |


#### 战斗数据:
- 参数2:battle

> 注意 - 被打飞或是不存在的单位是取不到数据的

| 类型 | 关键字(参数3) | 说明 |
|---|---|---|
|整数型| pos | 位子索引 |
|整数型| name | 主名 |
|整数型| fname | 副名 |
|整数型| modelid | 外观id |
|整数型| lv | 等级 |
|整数型| hp | 血量 |
|整数型| maxhp | 最大血量 |
|整数型| hpp | 血% |
|整数型| status | 状态(阵亡\|中毒\|麻痺\|昏睡\|石化\|酒醉\|混乱\|隐藏[如地球一周]\|反转) |
|整数型| rideflag | 是否骑宠 0没骑 1有骑 |
|整数型| ridename | 骑宠名称 |
|整数型| ridelv | 骑宠等级 |
|整数型| ridehp | 骑宠血量 |
|整数型| ridemaxhp | 骑宠最大血量 |
|整数型| ridehpp | 骑宠血% |

#### 战斗数据2:
- 参数2:battle

| 类型 | 关键字(参数3) | 说明 |
|---|---|---|
|整数型| round | 回合 |
|整数型| field | 场地属性(地\|水\|火\|風) |